<!DOCTYPE html>
<html lang="en">
<head>

    <meta charset="UTF-8">
    <title>Codificatore</title>
    <style>
.button {
  background-color: #4CAF50;
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
}

.button_download {
  background-color: red;
  border: none;
  color: white;
  padding: 15px 32px;
  text-align: center;
  text-decoration: none;
  display: inline-block;
  font-size: 16px;
  margin: 4px 2px;
  cursor: pointer;
}
.aParent div {
    float: left;
    clear: none;
}
</style>

</head>
<body onload="checkIfSuccess()">

<ul>
    <div class="box_output_stego_file" hidden>
        <h1 style="color:red">Risultato</h1>
        <form method="POST" action="/app/stego/stego.docx"><button class="button_download">SCARICA FILE STEGANOGRAFATO</button></form>
    </div>

    <h1>Seleziona il file cover</h1>


    <div class="aParent">
            <div class="box_input">

                <li>Input 1</li>
                <form method="POST" action="/input/1/input1.docx"><button class="button">Scarica file</button></form>
                <input type="button" id="input_1" class="button" value="Inietta testo segreto" onclick="inject_text(this)">
            </div>
        <div class="box_input">
                    <li>Input 2</li>
                    <form method="POST" action="/input/2/input2.docx"><button class="button">Scarica file</button></form>
                    <input type="button" id="input_2" class="button" value="Inietta testo segreto" onclick="inject_text(this)">
        </div>

    <div class="box_input">
                <li>Input 3</li>
                <form method="POST" action="/input/3/input3.docx"><button class="button">Scarica file</button></form>
                <input type="button" id="input_3" class="button" value="Inietta testo segreto" onclick="inject_text(this)">
    </div>
    <div class="box_input">
                <li>Input 4</li>
                <form method="POST" action="/input/4/input4.docx"><button class="button">Scarica file</button></form>
                <input type="button" id="input_4" class="button" value="Inietta testo segreto" onclick="inject_text(this)">
    </div>
    <div class="box_input">
                <li>Input 5</li>
                <form method="POST" action="/input/5/input5.docx"><button class="button">Scarica file</button></form>
                <input type="button" id="input_5" class="button" value="Inietta testo segreto" onclick="inject_text(this)">
    </div>
        <div class="box_input">
                <li>Input 6</li>
                <form method="POST" action="/input/6/input6.docx"><button class="button">Scarica file</button></form>
                <input type="button" id="input_6" id="input_6" class="button" value="Inietta testo segreto" onclick="inject_text(this)">
    </div>
            <div class="box_input">
                <li>Input 7</li>
                <form method="POST"  action="/input/7/input7.docx"><button class="button">Scarica file</button></form>
                <input type="button" id="input_7" class="button" value="Inietta testo segreto" onclick="inject_text(this)">
            </div>
                <div class="box_input">
                <li>Input 8</li>
                <form method="POST" action="/input/8/input8.docx"><button class="button">Scarica file</button></form>
                <input type="button" id="input_8" class="button" value="Inietta testo segreto" onclick="inject_text(this)">
            </div>
                    <div class="box_input">
                <li>Input 9</li>
                <form method="POST"  action="/input/9/input9.docx"><button class="button">Scarica file</button></form>
                <input type="button" id="input_9" class="button" value="Inietta testo segreto" onclick="inject_text(this)">
            </div>
            <div class="box_input">
                <li>Input 10</li>
                <form method="POST" action="/input/10/input10.docx"><button class="button">Scarica file</button></form>
                <input type="button" id="input_10" class="button" value="Inietta testo segreto" onclick="inject_text(this)">
            </div>
    </div>




</ul>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script>

    function checkIfSuccess(){
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        const success = urlParams.get('success');
        if(success=="true"){
            alert("Iniezione del testo completato con successo");
            $(".box_output_stego_file").show();

        }
    }
    function inject_text(elem){
        var message = prompt("Inserisci il messaggio da iniettare", "");
        var pass = prompt("Inserisci la password per proteggere il messaggio", "");
        window.location.href = "/encoding?input=" + elem.id.split("_")[1] + "&message=" + message + "&pass=" + pass;
    }

</script>
</body>

</html>